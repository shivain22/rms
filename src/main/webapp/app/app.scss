@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 45 92% 16%; /* #533f03 - custom primary color from original theme */
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;
    --radius: 0.5rem;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
  }
}

@layer base {
  html {
    height: 100%;
    overflow: hidden;
  }

  body {
    @apply bg-background text-foreground;
    margin: 0;
    height: 100%;
    overflow: hidden;
    font-feature-settings:
      'rlig' 1,
      'calt' 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }
}

a {
  color: hsl(var(--primary));
  font-weight: bold;
}

* {
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  &:after,
  &::before {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
  }
}

/* Legacy app-container styles - scoped to avoid conflicts with shadcn components */
.app-container {
  box-sizing: border-box;
  .view-container {
    width: 100%;
    height: calc(100% - 40px);
    overflow-y: auto;
    overflow-x: hidden;
    padding: 1rem;
    /* Scoped card class to avoid conflict with shadcn Card component */
    .legacy-card {
      padding: 1rem;
    }
    .view-routes {
      height: 100%;
      > div {
        height: 100%;
      }
    }
  }
}

/* Dashboard layout styles */
#root {
  height: 100vh;
  overflow: hidden;
}

.fullscreen {
  position: fixed;
  top: 100px;
  left: 0;
  width: 99% !important;
  height: calc(100vh - 110px) !important;
  margin: 5px;
  z-index: 1000;
  padding: 5px 25px 50px 25px !important;
}

/* ==========================================================================
Browser Upgrade Prompt
========================================================================== */

.browserupgrade {
  margin: 0.2em 0;
  background: #ccc;
  color: #000;
  padding: 0.2em 0;
}

/* ==========================================================================
Custom button styles
========================================================================== */

/* Scoped to avoid conflict with shadcn Button component */
.icon-button > .legacy-btn {
  background-color: transparent;
  border-color: transparent;
  padding: 0.5rem;
  line-height: 1rem;
  &:hover {
    background-color: transparent;
    border-color: transparent;
  }
  &:focus {
    -webkit-box-shadow: none;
    box-shadow: none;
  }
}

/* ==========================================================================
Generic styles
========================================================================== */

/* Temporary workaround for availity-reactstrap-validation */
.invalid-feedback {
  display: inline;
}

/* Note: .title and .description classes removed - use Tailwind utilities instead:
   .title -> text-xl mx-2.5 my-0.5
   .description -> text-sm mx-2.5 my-0.5
*/

.shadow {
  box-shadow:
    rgba(0, 0, 0, 0.12) 0 1px 6px,
    rgba(0, 0, 0, 0.12) 0 1px 4px;
  border-radius: 2px;
}

.error {
  color: white;
  background-color: red;
}

/* Note: .break, .break-word, and .preserve-space are now Tailwind utilities
   See tailwind.config.js for definitions - these are available as utility classes
*/

/* Note: Padding and margin helper classes removed
   Use Tailwind utilities instead:
   - .pad-* -> p-*, pt-*, pb-*, pl-*, pr-*
   - .voffset-* -> mt-*
   - .no-padding -> p-0
   - .no-margin -> m-0
*/

.readonly {
  background-color: #eee;
  opacity: 1;
}

/* ==========================================================================
make sure browsers use the pointer cursor for anchors, even with no href
========================================================================== */

a:hover {
  cursor: pointer;
}

.hand {
  cursor: pointer;
}

button.anchor-btn {
  background: none;
  border: none;
  padding: 0;
  align-items: initial;
  text-align: initial;
  width: 100%;
}

/* Ensure Tailwind button styles take precedence */
button[class*='bg-black'] {
  background-color: #000000 !important;
  color: #ffffff !important;
}

button[class*='bg-black']:hover {
  background-color: rgba(0, 0, 0, 0.9) !important;
}

a.anchor-btn:hover {
  text-decoration: none;
}

/* ==========================================================================
Metrics and Health styles
========================================================================== */

#threadDump .popover,
#healthCheck .popover {
  top: inherit;
  display: block;
  font-size: 10px;
  max-width: 1024px;
}

.thread-dump-modal-lock {
  max-width: 450px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

#healthCheck .popover {
  margin-left: -50px;
}

.health-details {
  min-width: 400px;
}

/* Note: .width-min removed - use Tailwind w-0 or w-px instead */

/* ==========================================================================
Tailwind CSS Override Protection
========================================================================== */

/* Ensure Tailwind utilities take precedence over any legacy styles */
@layer utilities {
  /* Prevent legacy styles from overriding Tailwind components */
  [class*='bg-'],
  [class*='text-'],
  [class*='border-'],
  [class*='rounded-'],
  [class*='p-'],
  [class*='m-'],
  [class*='flex'],
  [class*='grid'] {
    /* Tailwind utilities should take precedence */
  }
}

/* Ensure shadcn components are not affected by legacy styles */
@layer components {
  /* Protect shadcn Card component from legacy .card styles */
  [class*='card'][class*='rounded-lg'],
  [class*='Card'] {
    /* Reset any legacy card styles */
    box-sizing: border-box;
  }

  /* Protect shadcn Button component from legacy .btn styles */
  button[class*='Button'],
  [role='button'][class*='Button'] {
    /* Reset any legacy button styles */
    box-sizing: border-box;
  }
}

/* ==========================================================================
Dashboard Layout Fixes
========================================================================== */

/* Ensure main content area has proper spacing and doesn't conflict */
main {
  /* Reset any legacy styles that might interfere */
  box-sizing: border-box;
}

/* Font rendering is now handled in @layer base above */

/* ==========================================================================
ValidatedField Input Styling - Match Shadcn Input Component
========================================================================== */

/* Style ValidatedField inputs to match Shadcn Input component */
.form-control,
input[type='text'],
input[type='number'],
input[type='email'],
input[type='password'],
input[type='tel'],
input[type='url'],
input[type='search'],
textarea,
select {
  @apply flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background;
  @apply file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground;
  @apply placeholder:text-muted-foreground;
  @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2;
  @apply disabled:cursor-not-allowed disabled:opacity-50;
  @apply transition-colors;
}

/* Select elements need special handling */
select.form-control {
  @apply pr-8;
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
  background-position: right 0.5rem center;
  background-repeat: no-repeat;
  background-size: 1.5em 1.5em;
  padding-right: 2.5rem;
  appearance: none;
}

/* Textarea elements */
textarea.form-control {
  @apply min-h-[80px];
}

/* Read-only inputs should have muted background */
input[readonly].form-control,
textarea[readonly].form-control,
select[readonly].form-control {
  @apply bg-muted cursor-not-allowed;
}

/* Invalid/error state */
.form-control.is-invalid,
input.is-invalid,
select.is-invalid,
textarea.is-invalid {
  @apply border-destructive focus-visible:ring-destructive;
}

/* ValidatedField label styling to match Shadcn Label */
.form-label,
label {
  @apply text-sm font-medium leading-none;
  @apply peer-disabled:cursor-not-allowed peer-disabled:opacity-70;
}

/* jhipster-needle-scss-add-main JHipster will add new css style */
